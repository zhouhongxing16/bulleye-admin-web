<nz-layout *ngIf="loginFlag">
  <app-login></app-login>
</nz-layout>


<nz-layout style="height: 100%" *ngIf="!loginFlag">
  <nz-header>
    <div style="float: left;">
      <nz-avatar [nzSrc]="'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1549969134321&di=113371aa86883c695f6d88bc4613c936&imgtype=0&src=http%3A%2F%2Fwww.5snow.com%2Ffiles%2Fa%2Fa0319f12a7c895a6b942227a7e6c9c1f.jpg'"></nz-avatar>
    </div>
    <div style="float: right;">
      <nz-dropdown nzTrigger="click">
        <a nz-dropdown>
          <ng-container *ngIf="userInfo">
            {{userInfo.name}}
            <nz-avatar [nzSrc]="userInfo.avatar"></nz-avatar>
          </ng-container>
        </a>
        <ul nz-menu>
          <li nz-menu-item>
            <a>个人信息</a>
          </li>
          <li nz-menu-item>
            <a>修改密码</a>
          </li>
          <li nz-menu-divider></li>
          <li nz-menu-item (click)="showLogoutConfirm()">退出</li>

        </ul>
      </nz-dropdown>
    </div>
  </nz-header>

  <nz-layout>
    <nz-sider [nzWidth]="200">
      <app-menu [menus]="menus"></app-menu>
    </nz-sider>
    <nz-layout style="padding:0 24px 24px">
      <nz-breadcrumb style="margin:16px 0;">
        <nz-breadcrumb-item>Home</nz-breadcrumb-item>
        <nz-breadcrumb-item>List</nz-breadcrumb-item>
        <nz-breadcrumb-item>App</nz-breadcrumb-item>
      </nz-breadcrumb>
      <nz-content style=" padding: 24px; min-height: 280px;">

        <router-outlet></router-outlet>

        <button (click)="login()">登录</button>
        <button (click)="getMenu()">获取菜单</button>
        <button (click)="testAuth()">权限测试</button>

      </nz-content>
    </nz-layout>
  </nz-layout>
</nz-layout>

